# Track F: Epsilon Sweep Configuration
# Test FGSM sensitivity across ε ∈ {0.05, 0.10, 0.15, 0.20}
# Copied from working track_f_adversarial.yaml and modified

experiment:
  name: "track_f_epsilon_sweep"
  n_episodes: 20  # Per condition (5 conditions × 20 = 100 total)
  save_interval: 5
  description: "FGSM epsilon sensitivity analysis for dose-response relationship"

environment:
  type: "adversarial"
  obs_dim: 20
  action_dim: 10
  max_steps: 200  # Reduced for faster sweep
  base_difficulty: 2.0

agent:
  type: "robust_learner"
  architecture: "TD3"
  learning_rate: 0.001
  exploration_noise: 0.1
  buffer_size: 50000
  batch_size: 256

adversarial_conditions:
  - name: "baseline"
    description: "Clean environment, no adversarial attacks"
    target: "observations"
    perturbation_type: "none"
    perturbation_strength: 0.0
    perturbation_frequency: 0.0

  - name: "fgsm_eps_0.05"
    description: "FGSM with epsilon=0.05 (mild)"
    target: "observations"
    perturbation_type: "gradient_based"
    perturbation_strength: 0.05
    perturbation_frequency: 0.5

  - name: "fgsm_eps_0.10"
    description: "FGSM with epsilon=0.10 (moderate)"
    target: "observations"
    perturbation_type: "gradient_based"
    perturbation_strength: 0.10
    perturbation_frequency: 0.5

  - name: "fgsm_eps_0.15"
    description: "FGSM with epsilon=0.15 (original)"
    target: "observations"
    perturbation_type: "gradient_based"
    perturbation_strength: 0.15
    perturbation_frequency: 0.5

  - name: "fgsm_eps_0.20"
    description: "FGSM with epsilon=0.20 (strong)"
    target: "observations"
    perturbation_type: "gradient_based"
    perturbation_strength: 0.20
    perturbation_frequency: 0.5

metrics:
  k_index:
    window_size: 100
    variants:
      - "pearson"
      - "spearman"
      - "z_scored"

  partial_correlation:
    enabled: true
    control_variable: "reward"

  time_lag:
    enabled: true
    max_lag: 10

  null_distributions:
    enabled: true
    n_permutations: 100
    types:
      - "shuffled"
      - "random"
      - "magnitude_matched"

output:
  generate_figures: true
  save_trajectories: true
  save_metrics: true
