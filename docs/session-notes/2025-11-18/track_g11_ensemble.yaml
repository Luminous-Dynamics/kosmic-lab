# Track G11: Ensemble of Small Networks
# Goal: Validate ensemble breakthrough with full K-Index
# Based on: Session 2025-11-18 finding (K = 1.7245 with 3×(8→8→4))
# Strategy: Multiple small networks with averaged actions
#
# To install: sudo cp this file to /srv/luminous-dynamics/kosmic-lab/fre/configs/

experiment:
  name: "track_g11_ensemble_small_networks"
  description: "Ensemble of 3 small networks - validated approach for threshold crossing"
  output_dir: "logs/track_g11/"

# Track G11: Small Network Ensemble
track_g11:
  name: "small_network_ensemble"

  # Ensemble Configuration (based on successful demo)
  ensemble:
    num_agents: 3  # 3 small networks (validated)

    # All agents use same small architecture
    architecture:
      obs_dim: 8
      hidden_dim: 8
      act_dim: 4
      params_per_agent: 108  # 8×8+8 + 4×8+4
      total_params: 324

    # Aggregation: Simple averaging (validated)
    aggregation:
      method: "mean"  # Average actions across ensemble

  # CMA-ES Optimization (validated approach)
  optimization:
    algorithm: "cma_es"
    population_size: 20
    generations: 50
    initial_sigma: 0.5

    # CMA-ES parameters
    c_mu: 0.3
    elite_ratio: 0.25

  # Episode Configuration
  episodes:
    num_episodes: 4  # Per fitness evaluation
    episode_length: 80

  # Environment dynamics
  environment:
    state_decay: 0.85
    noise_scale: 0.1
    feedback_strength: 0.05

# Measurement - Full 7-Harmony K-Index
measurement:
  metrics:
    - "K_Index"
    - "K_Pearson"  # 2|ρ| (simplified, for comparison)
    - "H1_Coherence"
    - "H2_Flourishing"
    - "H3_Wisdom"
    - "H4_Play"
    - "H5_Interconnection"
    - "H6_Reciprocity"
    - "H7_Progression"

  k_index:
    threshold: 1.5
    track_above_threshold: true

  # Track individual vs collective
  ensemble_analysis:
    track_individual: true
    track_collective: true
    compare_to_single: true

# Success Criteria
success_criteria:
  minimal: 1.50  # Consciousness threshold
  target: 1.60   # Strong consciousness
  stretch: 1.75  # Based on our K=1.7245 finding

# Reproducibility
reproducibility:
  random_seeds: [42, 123, 456]
  save_all_checkpoints: true
  save_best_params: true

# Computational
computational:
  estimated_time_minutes: 30  # Quick validation
  priority: "high"

# Notes
notes:
  session: "2025-11-18"
  finding: "Ensemble of 3×(8→8→4) achieved K=1.7245 (115% of threshold)"
  insight: "Small networks ensemble > single large network"
  validation: "This config validates with full 7-Harmony K-Index"
